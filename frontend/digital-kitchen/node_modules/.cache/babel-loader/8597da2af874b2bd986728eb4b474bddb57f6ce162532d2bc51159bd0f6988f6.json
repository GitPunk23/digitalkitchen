{"ast":null,"code":"var _jsxFileName = \"C:\\\\code\\\\digitalkitchen\\\\frontend\\\\digital-kitchen\\\\src\\\\components\\\\SearchBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Button, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchBar = _ref => {\n  _s();\n  let {\n    setResults\n  } = _ref;\n  const [name, setName] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const [authors, setAuthors] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [servings, setServings] = useState('');\n  const [calories, setCalories] = useState('');\n  const [tags, setTags] = useState([]);\n  const [isFiltering, setIsFiltering] = useState(false);\n  const [categorySuggestions, setCategorySuggestions] = useState([]);\n  const [authorSuggestions, setAuthorSuggestions] = useState([]);\n  const [ingredientsList, setIngredientsList] = useState([]);\n  const [tagsList, setTagsList] = useState([]);\n  const [ingredientSuggestions, setIngredientSuggestions] = useState([]);\n  const [tagsSuggestions, setTagsSuggestions] = useState([]);\n  const [showingIngredientsDropdown, setShowingIngredientsDropdown] = useState(false);\n  const [showingTagsDropdown, setShowingTagsDropdown] = useState(false);\n  const handleNameChange = event => {\n    setName(event.target.value);\n  };\n\n  //Category List\n  useEffect(() => {\n    fetch('http://localhost:8080/digitalkitchen/form/categories').then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error retrieving categories');\n      }\n    }).then(data => {\n      setCategorySuggestions(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  //Author List\n  useEffect(() => {\n    fetch('http://localhost:8080/digitalkitchen/form/authors').then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error retrieving authors');\n      }\n    }).then(data => {\n      setAuthorSuggestions(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  //Tag suggestions\n  useEffect(() => {\n    fetch('http://localhost:8080/digitalkitchen/form/tags').then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error retrieving tags');\n      }\n    }).then(data => {\n      setTagsList(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  //Ingredients suggestions\n  useEffect(() => {\n    fetch('http://localhost:8080/digitalkitchen/form/ingredients').then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error retrieving ingredients');\n      }\n    }).then(data => {\n      setIngredientsList(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  // FILTERS\n  const handleInputKeyDown = event => {\n    if (event.key === 'Enter' || event.key === ',') {\n      event.preventDefault();\n      const trimmedValue = event.target.value.trim();\n      console.log(event.target.name);\n      if (trimmedValue !== '' && event.target.name === 'ingredients') {\n        setIngredients([...ingredients, trimmedValue]);\n      }\n      if (trimmedValue !== '' && event.target.name === 'tags') {\n        setTags([...tags, trimmedValue]);\n      }\n      event.target.value = ''; // Clear the input value after adding the tag\n    }\n  };\n\n  const handleIngredientInputChange = async event => {\n    const value = event.target.value;\n    setIngredientSuggestions(ingredientsList.filter(ingredient => ingredient.startsWith(value)));\n  };\n  const handleSelectIngredientSuggestion = suggestion => {\n    setIngredients([...ingredients, suggestion]);\n  };\n  const handleRemoveIngredient = removed => {\n    let newIngredients = ingredients.filter(ingredient => ingredient !== removed);\n    setIngredients(newIngredients);\n  };\n  const handleAuthorAdd = event => {\n    const newAuthor = event.target.value.trim();\n    if (newAuthor !== '' && !authors.includes(newAuthor)) {\n      setAuthors([...authors, newAuthor]);\n      event.target.value = '';\n    }\n  };\n  const handleRemoveAuthor = removed => {\n    let newAuthors = authors.filter(author => author !== removed);\n    setAuthors(newAuthors);\n  };\n  const handleCategoryAdd = event => {\n    const newCategory = event.target.value.trim();\n    if (newCategory !== '' && !categories.includes(newCategory)) {\n      setCategories([...categories, newCategory]);\n      event.target.value = '';\n    }\n  };\n  const handleRemoveCategory = removed => {\n    let newCategories = categories.filter(category => category !== removed);\n    setCategories(newCategories);\n  };\n  const handleServingsAdd = event => {\n    setServings(event.target.value);\n  };\n  const handleCaloriesAdd = event => {\n    setCalories(event.target.value);\n  };\n  const handleSelectTagSuggestion = suggestion => {\n    setTags([...tags, suggestion]);\n  };\n  const handleTagInputChange = async event => {\n    const value = event.target.value;\n    setTagsSuggestions(tagsList.filter(tag => tag.startsWith(value)));\n  };\n  const handleRemoveTag = removed => {\n    let newTags = tags.filter(tag => tag !== removed);\n    setTags(newTags);\n  };\n  const handleFilter = event => {\n    setIsFiltering(!isFiltering);\n  };\n  const removeFilters = event => {\n    setIngredients([]);\n    setAuthors([]);\n    setCategories([]);\n    setServings('');\n    setCalories('');\n    setTags([]);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    // Prepare the search criteria JSON object\n    const searchCriteria = {\n      name: name,\n      authors: authors,\n      categories: categories,\n      servings: servings,\n      calories: calories,\n      ingredients: ingredients,\n      tags: tags\n    };\n    console.log(\"Searching for: \", searchCriteria);\n    try {\n      const response = await fetch('http://localhost:8080/digitalkitchen/search', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(searchCriteria)\n      });\n      const json = await response.json();\n      if (response.status === 200) {\n        setResults(json);\n      }\n    } catch (error) {}\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter recipe name\",\n          onChange: handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          onClick: handleFilter,\n          children: \"Filter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }, this), isFiltering && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"ingredients\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Ingredients:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"ingredients\",\n            type: \"Select\",\n            className: \"form-control\",\n            placeholder: \"Press enter after each\",\n            onFocus: () => setShowingIngredientsDropdown(true),\n            OnBlur: () => setShowingIngredientsDropdown(false),\n            onKeyDown: event => handleInputKeyDown(event),\n            onChange: event => handleIngredientInputChange(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), ingredientSuggestions.length > 0 && showingIngredientsDropdown && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-dropdown\",\n            children: ingredientSuggestions.slice(0, 5).map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => handleSelectIngredientSuggestion(suggestion),\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: ingredients.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: ingredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ingredient\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                href: \"#\",\n                className: \"ingredients\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 15\n              }, this), ingredient, /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                onClick: () => handleRemoveIngredient(ingredient),\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 15\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Authors:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: authors,\n            onChange: handleAuthorAdd,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"--select author--\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 13\n            }, this), authorSuggestions.map(author => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: author,\n              children: author\n            }, author, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 13\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: authors.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: authors.map((author, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"author\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                href: \"#\",\n                className: \"authors\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 15\n              }, this), author, /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                onClick: () => handleRemoveAuthor(author),\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 15\n              }, this)]\n            }, author, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Categories:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: categories,\n            onChange: handleCategoryAdd,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"--select category--\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 13\n            }, this), categorySuggestions.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category.name,\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 13\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: categories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: categories.map((category, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                href: \"#\",\n                className: \"categories\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 15\n              }, this), category, /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                onClick: () => handleRemoveCategory(category),\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 15\n              }, this)]\n            }, category.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"servings\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Servings:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            className: \"form-control\",\n            placeholder: \"\",\n            onChange: handleServingsAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"calories\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Calories:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            className: \"form-control\",\n            col: \"3\",\n            onChange: handleCaloriesAdd\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"tags\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"tags\",\n            type: \"select\",\n            className: \"form-control\",\n            placeholder: \"Press enter after each\",\n            onFocus: () => setShowingTagsDropdown(true),\n            OnBlur: () => setShowingTagsDropdown(false),\n            onKeyDown: event => handleInputKeyDown(event),\n            onChange: event => handleTagInputChange(event)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 11\n          }, this), tagsSuggestions.length > 0 && showingTagsDropdown && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-dropdown\",\n            children: tagsSuggestions.slice(0, 5).map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => handleSelectTagSuggestion(suggestion),\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: tags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: tags.map((tag, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tag\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                href: \"#\",\n                className: \"tags\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 15\n              }, this), tag, /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                size: \"sm\",\n                onClick: () => handleRemoveTag(tag),\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 15\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 13\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: removeFilters,\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBar, \"boEDgbFEJgKn1M/pAMGjfCfwBnQ=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useEffect","Button","Form","jsxDEV","_jsxDEV","SearchBar","_ref","_s","setResults","name","setName","ingredients","setIngredients","authors","setAuthors","categories","setCategories","servings","setServings","calories","setCalories","tags","setTags","isFiltering","setIsFiltering","categorySuggestions","setCategorySuggestions","authorSuggestions","setAuthorSuggestions","ingredientsList","setIngredientsList","tagsList","setTagsList","ingredientSuggestions","setIngredientSuggestions","tagsSuggestions","setTagsSuggestions","showingIngredientsDropdown","setShowingIngredientsDropdown","showingTagsDropdown","setShowingTagsDropdown","handleNameChange","event","target","value","fetch","then","response","ok","json","Error","data","catch","error","console","log","handleInputKeyDown","key","preventDefault","trimmedValue","trim","handleIngredientInputChange","filter","ingredient","startsWith","handleSelectIngredientSuggestion","suggestion","handleRemoveIngredient","removed","newIngredients","handleAuthorAdd","newAuthor","includes","handleRemoveAuthor","newAuthors","author","handleCategoryAdd","newCategory","handleRemoveCategory","newCategories","category","handleServingsAdd","handleCaloriesAdd","handleSelectTagSuggestion","handleTagInputChange","tag","handleRemoveTag","newTags","handleFilter","removeFilters","handleSubmit","searchCriteria","method","headers","body","JSON","stringify","status","children","onSubmit","Group","className","Control","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onFocus","OnBlur","onKeyDown","length","slice","map","index","href","variant","size","as","id","col","_c","$RefreshReg$"],"sources":["C:/code/digitalkitchen/frontend/digital-kitchen/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\n\r\nconst SearchBar = ({ setResults }) => {\r\n  const [name, setName] = useState('');\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const [authors, setAuthors] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [servings, setServings] = useState('');\r\n  const [calories, setCalories] = useState('');\r\n  const [tags, setTags] = useState([]);\r\n  const [isFiltering, setIsFiltering] = useState(false);\r\n  const [categorySuggestions, setCategorySuggestions] = useState([]);\r\n  const [authorSuggestions, setAuthorSuggestions] = useState([]);\r\n  const [ingredientsList, setIngredientsList] = useState([]);\r\n  const [tagsList, setTagsList] = useState([]);\r\n  const [ingredientSuggestions, setIngredientSuggestions] = useState([]);\r\n  const [tagsSuggestions, setTagsSuggestions] = useState([]);\r\n  const [showingIngredientsDropdown, setShowingIngredientsDropdown] = useState(false);\r\n  const [showingTagsDropdown, setShowingTagsDropdown] = useState(false);\r\n\r\n  const handleNameChange = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  //Category List\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/digitalkitchen/form/categories')\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error('Error retrieving categories');\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setCategorySuggestions(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  //Author List\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/digitalkitchen/form/authors')\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error('Error retrieving authors');\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setAuthorSuggestions(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  //Tag suggestions\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/digitalkitchen/form/tags')\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error('Error retrieving tags');\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setTagsList(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n  \r\n  //Ingredients suggestions\r\n  useEffect(() => {\r\n    fetch('http://localhost:8080/digitalkitchen/form/ingredients')\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          throw new Error('Error retrieving ingredients');\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setIngredientsList(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n  \r\n\r\n  // FILTERS\r\n  const handleInputKeyDown = (event) => {\r\n    if (event.key === 'Enter' || event.key === ',') {\r\n      event.preventDefault();\r\n      const trimmedValue = event.target.value.trim();\r\n      console.log(event.target.name)\r\n  \r\n      if (trimmedValue !== '' && event.target.name === 'ingredients') {\r\n        setIngredients([...ingredients, trimmedValue]);\r\n      }\r\n      if (trimmedValue !== '' && event.target.name === 'tags') {\r\n        setTags([...tags, trimmedValue]);\r\n      }\r\n      \r\n      event.target.value = ''; // Clear the input value after adding the tag\r\n    }\r\n  };  \r\n\r\n  const handleIngredientInputChange = async (event) => {\r\n    const value = event.target.value;\r\n    setIngredientSuggestions(ingredientsList.filter((ingredient) => \r\n      ingredient.startsWith(value)))\r\n  }\r\n\r\n  const handleSelectIngredientSuggestion = (suggestion) => {\r\n    setIngredients([...ingredients, suggestion])\r\n  }\r\n\r\n  const handleRemoveIngredient = (removed) => {\r\n    let newIngredients = ingredients.filter((ingredient) => ingredient !== removed);\r\n    setIngredients(newIngredients);\r\n  }\r\n\r\n  const handleAuthorAdd = (event) => {\r\n    const newAuthor = event.target.value.trim();\r\n    if (newAuthor !== '' && !authors.includes(newAuthor)) {\r\n      setAuthors([...authors, newAuthor]);\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const handleRemoveAuthor = (removed) => {\r\n    let newAuthors = authors.filter((author) => author !== removed);\r\n    setAuthors(newAuthors);\r\n  }\r\n\r\n  const handleCategoryAdd = (event) => {\r\n    const newCategory = event.target.value.trim();\r\n    if (newCategory !== '' && !categories.includes(newCategory)) {\r\n      setCategories([...categories, newCategory]);\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const handleRemoveCategory = (removed) => {\r\n    let newCategories = categories.filter((category) => category !== removed);\r\n    setCategories(newCategories);\r\n  }\r\n\r\n  const handleServingsAdd = (event) => {\r\n    setServings(event.target.value);\r\n  }\r\n\r\n  const handleCaloriesAdd = (event) => {\r\n    setCalories(event.target.value);\r\n  }\r\n\r\n  const handleSelectTagSuggestion = (suggestion) => {\r\n    setTags([...tags, suggestion]);\r\n  };\r\n\r\n  const handleTagInputChange = async (event) => {\r\n    const value = event.target.value;\r\n    setTagsSuggestions(tagsList.filter((tag) => \r\n      tag.startsWith(value)))\r\n  }\r\n\r\n  const handleRemoveTag = (removed) => {\r\n    let newTags = tags.filter((tag) => tag !== removed);\r\n    setTags(newTags);\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setIsFiltering(!isFiltering);\r\n  }\r\n\r\n  const removeFilters = (event) => {\r\n    setIngredients([]);\r\n    setAuthors([]);\r\n    setCategories([]);\r\n    setServings('');\r\n    setCalories('');\r\n    setTags([]);\r\n  };\r\n  \r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // Prepare the search criteria JSON object\r\n    const searchCriteria = {\r\n      name: name,\r\n      authors: authors,\r\n      categories: categories,\r\n      servings: servings,\r\n      calories: calories,\r\n      ingredients: ingredients,\r\n      tags: tags,\r\n    };\r\n\r\n    console.log(\"Searching for: \",searchCriteria);\r\n\r\n    try {\r\n        const response = await fetch('http://localhost:8080/digitalkitchen/search', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(searchCriteria),\r\n        });\r\n\r\n        const json = await response.json();\r\n\r\n        if (response.status === 200) {\r\n          setResults(json);\r\n        }\r\n        \r\n    \r\n    } catch (error) {\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"name\">\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"Enter recipe name\"\r\n          onChange={handleNameChange}\r\n        />\r\n        <Button type=\"button\" onClick={handleFilter}>Filter</Button>\r\n        <Button type=\"submit\">Search</Button>\r\n      </Form.Group>\r\n\r\n      {isFiltering && (\r\n      <div >\r\n        {/*INGREDIENTS*/}\r\n        <Form.Group className=\"ingredients\">\r\n          <label>Ingredients:</label>\r\n            <Form.Control \r\n              name=\"ingredients\"\r\n              type=\"Select\" \r\n              className=\"form-control\" \r\n              placeholder=\"Press enter after each\"\r\n              onFocus={() => setShowingIngredientsDropdown(true)}\r\n              OnBlur={() => setShowingIngredientsDropdown(false)}\r\n              onKeyDown={(event) => \r\n              handleInputKeyDown(event)}\r\n              onChange={(event) => \r\n                handleIngredientInputChange(event)}\r\n              />\r\n              {(ingredientSuggestions.length > 0) && (showingIngredientsDropdown) && (\r\n                <ul className=\"suggestions-dropdown\">\r\n                  {ingredientSuggestions.slice(0, 5).map((suggestion, index) => (\r\n                    <li key={index} onClick={() => handleSelectIngredientSuggestion(suggestion)}>\r\n                      {suggestion}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n          </Form.Group>\r\n\r\n\r\n        <div>\r\n          {ingredients.length > 0 && (\r\n          <div>\r\n            {ingredients.map((ingredient, index) => (\r\n            <span key={index} className=\"ingredient\">\r\n              <Button href=\"#\" className=\"ingredients\" />\r\n                {ingredient}\r\n              <Button\r\n                variant=\"danger\"\r\n                size=\"sm\"\r\n                onClick={() => handleRemoveIngredient(ingredient)}\r\n              >\r\n                x\r\n              </Button>\r\n            </span>\r\n            ))}\r\n          </div>\r\n          )}\r\n        </div>\r\n\r\n        {/*AUTHORS*/}\r\n        <Form.Group>\r\n          <label>Authors:</label>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={authors}\r\n            onChange={handleAuthorAdd}\r\n          >\r\n            <option value=\"\">--select author--</option>\r\n            {authorSuggestions.map((author) => (\r\n            <option key={author} value={author}>\r\n                {author}\r\n            </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n\r\n        <div>\r\n          {authors.length > 0 && (\r\n          <div>\r\n            {authors.map((author, index) => (\r\n            <span key={author} className=\"author\">\r\n              <Button href=\"#\" className=\"authors\" />\r\n                {author}\r\n              <Button\r\n                  variant=\"danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleRemoveAuthor(author)}\r\n              >\r\n                x\r\n              </Button>\r\n            </span>\r\n            ))}\r\n          </div>\r\n          )}\r\n        </div>\r\n\r\n        {/*CATEGORIES*/}\r\n        <Form.Group>\r\n          <label>Categories:</label>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={categories}\r\n            onChange={handleCategoryAdd}\r\n          >\r\n            <option value=\"\">--select category--</option>\r\n            {categorySuggestions.map((category) => (\r\n            <option key={category.id} value={category.name}>\r\n                {category.name}\r\n            </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n\r\n        <div>\r\n          {(categories.length > 0) && (\r\n          <div>\r\n            {categories.map((category, index) => (\r\n            <span key={category.name} className=\"category\">\r\n              <Button href=\"#\" className=\"categories\" />\r\n                {category}\r\n              <Button\r\n                  variant=\"danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleRemoveCategory(category)}\r\n              >\r\n                x\r\n              </Button>\r\n            </span>\r\n            ))}\r\n          </div>\r\n          )}\r\n        </div>\r\n\r\n        {/*SERVINGS*/}\r\n        <Form.Group className=\"servings\">\r\n          <label>Servings:</label>\r\n          <Form.Control\r\n            type=\"number\" \r\n            className=\"form-control\" \r\n            placeholder=\"\"\r\n            onChange={handleServingsAdd}\r\n          />\r\n        </Form.Group>\r\n\r\n        {/*CALORIES*/}\r\n        <Form.Group className=\"calories\">\r\n          <label>Calories:</label>\r\n          <Form.Control \r\n            type=\"number\" \r\n            className=\"form-control\" \r\n            col=\"3\"\r\n            onChange={handleCaloriesAdd}\r\n          />\r\n        </Form.Group>\r\n\r\n        {/*TAGS*/}\r\n        <Form.Group className=\"tags\">\r\n          <label>Tags</label>\r\n          <Form.Control\r\n            name=\"tags\"\r\n            type=\"select\" \r\n            className=\"form-control\" \r\n            placeholder=\"Press enter after each\"\r\n            onFocus={() => setShowingTagsDropdown(true)}\r\n            OnBlur={() => setShowingTagsDropdown(false)}\r\n            onKeyDown={(event) => \r\n              handleInputKeyDown(event)}\r\n            onChange={(event) => \r\n              handleTagInputChange(event)}\r\n          />\r\n          {(tagsSuggestions.length > 0) && (showingTagsDropdown) && (\r\n            <ul className=\"suggestions-dropdown\">\r\n              {tagsSuggestions.slice(0, 5).map((suggestion, index) => (\r\n                <li key={index} onClick={() => handleSelectTagSuggestion(suggestion)}>\r\n                  {suggestion}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </Form.Group>\r\n\r\n        <div>\r\n          {tags.length > 0 && (\r\n          <div>\r\n            {tags.map((tag, index) => (\r\n            <span key={index} className=\"tag\">\r\n              <Button href=\"#\" className=\"tags\" />\r\n                {tag}\r\n              <Button\r\n                  variant=\"danger\"\r\n                  size=\"sm\"\r\n                  onClick={() => handleRemoveTag(tag)}\r\n              >\r\n                x\r\n              </Button>\r\n            </span>\r\n            ))}\r\n          </div>\r\n          )}\r\n        </div>\r\n        <Button onClick={removeFilters}>Remove</Button>\r\n      </div>\r\n        )}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,IAAI,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,SAAS,GAAGC,IAAA,IAAoB;EAAAC,EAAA;EAAA,IAAnB;IAAEC;EAAW,CAAC,GAAAF,IAAA;EAC/B,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsB,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC0B,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAClE,MAAM,CAAC4B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAAC8B,eAAe,EAAEC,kBAAkB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACgC,QAAQ,EAAEC,WAAW,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkC,qBAAqB,EAAEC,wBAAwB,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EACtE,MAAM,CAACoC,eAAe,EAAEC,kBAAkB,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACsC,0BAA0B,EAAEC,6BAA6B,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;EACnF,MAAM,CAACwC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EAErE,MAAM0C,gBAAgB,GAAIC,KAAK,IAAK;IAClChC,OAAO,CAACgC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;;EAED;EACA5C,SAAS,CAAC,MAAM;IACd6C,KAAK,CAAC,sDAAsD,CAAC,CAC1DC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAChD;IACF,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACdzB,sBAAsB,CAACyB,IAAI,CAAC;IAC9B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACArD,SAAS,CAAC,MAAM;IACd6C,KAAK,CAAC,mDAAmD,CAAC,CACvDC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;IACF,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACdvB,oBAAoB,CAACuB,IAAI,CAAC;IAC5B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACArD,SAAS,CAAC,MAAM;IACd6C,KAAK,CAAC,gDAAgD,CAAC,CACpDC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;IACF,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACdnB,WAAW,CAACmB,IAAI,CAAC;IACnB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACArD,SAAS,CAAC,MAAM;IACd6C,KAAK,CAAC,uDAAuD,CAAC,CAC3DC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;QACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;MACxB,CAAC,MAAM;QACL,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;MACjD;IACF,CAAC,CAAC,CACDJ,IAAI,CAAEK,IAAI,IAAK;MACdrB,kBAAkB,CAACqB,IAAI,CAAC;IAC1B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAGN;EACA,MAAMG,kBAAkB,GAAId,KAAK,IAAK;IACpC,IAAIA,KAAK,CAACe,GAAG,KAAK,OAAO,IAAIf,KAAK,CAACe,GAAG,KAAK,GAAG,EAAE;MAC9Cf,KAAK,CAACgB,cAAc,CAAC,CAAC;MACtB,MAAMC,YAAY,GAAGjB,KAAK,CAACC,MAAM,CAACC,KAAK,CAACgB,IAAI,CAAC,CAAC;MAC9CN,OAAO,CAACC,GAAG,CAACb,KAAK,CAACC,MAAM,CAAClC,IAAI,CAAC;MAE9B,IAAIkD,YAAY,KAAK,EAAE,IAAIjB,KAAK,CAACC,MAAM,CAAClC,IAAI,KAAK,aAAa,EAAE;QAC9DG,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAEgD,YAAY,CAAC,CAAC;MAChD;MACA,IAAIA,YAAY,KAAK,EAAE,IAAIjB,KAAK,CAACC,MAAM,CAAClC,IAAI,KAAK,MAAM,EAAE;QACvDa,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAEsC,YAAY,CAAC,CAAC;MAClC;MAEAjB,KAAK,CAACC,MAAM,CAACC,KAAK,GAAG,EAAE,CAAC,CAAC;IAC3B;EACF,CAAC;;EAED,MAAMiB,2BAA2B,GAAG,MAAOnB,KAAK,IAAK;IACnD,MAAME,KAAK,GAAGF,KAAK,CAACC,MAAM,CAACC,KAAK;IAChCV,wBAAwB,CAACL,eAAe,CAACiC,MAAM,CAAEC,UAAU,IACzDA,UAAU,CAACC,UAAU,CAACpB,KAAK,CAAC,CAAC,CAAC;EAClC,CAAC;EAED,MAAMqB,gCAAgC,GAAIC,UAAU,IAAK;IACvDtD,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAEuD,UAAU,CAAC,CAAC;EAC9C,CAAC;EAED,MAAMC,sBAAsB,GAAIC,OAAO,IAAK;IAC1C,IAAIC,cAAc,GAAG1D,WAAW,CAACmD,MAAM,CAAEC,UAAU,IAAKA,UAAU,KAAKK,OAAO,CAAC;IAC/ExD,cAAc,CAACyD,cAAc,CAAC;EAChC,CAAC;EAED,MAAMC,eAAe,GAAI5B,KAAK,IAAK;IACjC,MAAM6B,SAAS,GAAG7B,KAAK,CAACC,MAAM,CAACC,KAAK,CAACgB,IAAI,CAAC,CAAC;IAC3C,IAAIW,SAAS,KAAK,EAAE,IAAI,CAAC1D,OAAO,CAAC2D,QAAQ,CAACD,SAAS,CAAC,EAAE;MACpDzD,UAAU,CAAC,CAAC,GAAGD,OAAO,EAAE0D,SAAS,CAAC,CAAC;MACnC7B,KAAK,CAACC,MAAM,CAACC,KAAK,GAAG,EAAE;IACzB;EACF,CAAC;EAED,MAAM6B,kBAAkB,GAAIL,OAAO,IAAK;IACtC,IAAIM,UAAU,GAAG7D,OAAO,CAACiD,MAAM,CAAEa,MAAM,IAAKA,MAAM,KAAKP,OAAO,CAAC;IAC/DtD,UAAU,CAAC4D,UAAU,CAAC;EACxB,CAAC;EAED,MAAME,iBAAiB,GAAIlC,KAAK,IAAK;IACnC,MAAMmC,WAAW,GAAGnC,KAAK,CAACC,MAAM,CAACC,KAAK,CAACgB,IAAI,CAAC,CAAC;IAC7C,IAAIiB,WAAW,KAAK,EAAE,IAAI,CAAC9D,UAAU,CAACyD,QAAQ,CAACK,WAAW,CAAC,EAAE;MAC3D7D,aAAa,CAAC,CAAC,GAAGD,UAAU,EAAE8D,WAAW,CAAC,CAAC;MAC3CnC,KAAK,CAACC,MAAM,CAACC,KAAK,GAAG,EAAE;IACzB;EACF,CAAC;EAED,MAAMkC,oBAAoB,GAAIV,OAAO,IAAK;IACxC,IAAIW,aAAa,GAAGhE,UAAU,CAAC+C,MAAM,CAAEkB,QAAQ,IAAKA,QAAQ,KAAKZ,OAAO,CAAC;IACzEpD,aAAa,CAAC+D,aAAa,CAAC;EAC9B,CAAC;EAED,MAAME,iBAAiB,GAAIvC,KAAK,IAAK;IACnCxB,WAAW,CAACwB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMsC,iBAAiB,GAAIxC,KAAK,IAAK;IACnCtB,WAAW,CAACsB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMuC,yBAAyB,GAAIjB,UAAU,IAAK;IAChD5C,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE6C,UAAU,CAAC,CAAC;EAChC,CAAC;EAED,MAAMkB,oBAAoB,GAAG,MAAO1C,KAAK,IAAK;IAC5C,MAAME,KAAK,GAAGF,KAAK,CAACC,MAAM,CAACC,KAAK;IAChCR,kBAAkB,CAACL,QAAQ,CAAC+B,MAAM,CAAEuB,GAAG,IACrCA,GAAG,CAACrB,UAAU,CAACpB,KAAK,CAAC,CAAC,CAAC;EAC3B,CAAC;EAED,MAAM0C,eAAe,GAAIlB,OAAO,IAAK;IACnC,IAAImB,OAAO,GAAGlE,IAAI,CAACyC,MAAM,CAAEuB,GAAG,IAAKA,GAAG,KAAKjB,OAAO,CAAC;IACnD9C,OAAO,CAACiE,OAAO,CAAC;EAClB,CAAC;EAED,MAAMC,YAAY,GAAI9C,KAAK,IAAK;IAC9BlB,cAAc,CAAC,CAACD,WAAW,CAAC;EAC9B,CAAC;EAED,MAAMkE,aAAa,GAAI/C,KAAK,IAAK;IAC/B9B,cAAc,CAAC,EAAE,CAAC;IAClBE,UAAU,CAAC,EAAE,CAAC;IACdE,aAAa,CAAC,EAAE,CAAC;IACjBE,WAAW,CAAC,EAAE,CAAC;IACfE,WAAW,CAAC,EAAE,CAAC;IACfE,OAAO,CAAC,EAAE,CAAC;EACb,CAAC;EAGD,MAAMoE,YAAY,GAAG,MAAOhD,KAAK,IAAK;IACpCA,KAAK,CAACgB,cAAc,CAAC,CAAC;;IAEtB;IACA,MAAMiC,cAAc,GAAG;MACrBlF,IAAI,EAAEA,IAAI;MACVI,OAAO,EAAEA,OAAO;MAChBE,UAAU,EAAEA,UAAU;MACtBE,QAAQ,EAAEA,QAAQ;MAClBE,QAAQ,EAAEA,QAAQ;MAClBR,WAAW,EAAEA,WAAW;MACxBU,IAAI,EAAEA;IACR,CAAC;IAEDiC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAACoC,cAAc,CAAC;IAE7C,IAAI;MACA,MAAM5C,QAAQ,GAAG,MAAMF,KAAK,CAAC,6CAA6C,EAAE;QAC1E+C,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,cAAc;MACrC,CAAC,CAAC;MAEF,MAAM1C,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,CAAC,CAAC;MAElC,IAAIF,QAAQ,CAACkD,MAAM,KAAK,GAAG,EAAE;QAC3BzF,UAAU,CAACyC,IAAI,CAAC;MAClB;IAGJ,CAAC,CAAC,OAAOI,KAAK,EAAE,CAEhB;EACF,CAAC;EAED,oBACEjD,OAAA;IAAA8F,QAAA,eACE9F,OAAA,CAACF,IAAI;MAACiG,QAAQ,EAAET,YAAa;MAAAQ,QAAA,gBAC7B9F,OAAA,CAACF,IAAI,CAACkG,KAAK;QAACC,SAAS,EAAC,MAAM;QAAAH,QAAA,gBAC1B9F,OAAA,CAACF,IAAI,CAACoG,OAAO;UACXC,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,mBAAmB;UAC/BC,QAAQ,EAAEhE;QAAiB;UAAAiE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,eACFzG,OAAA,CAACH,MAAM;UAACsG,IAAI,EAAC,QAAQ;UAACO,OAAO,EAAEtB,YAAa;UAAAU,QAAA,EAAC;QAAM;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC5DzG,OAAA,CAACH,MAAM;UAACsG,IAAI,EAAC,QAAQ;UAAAL,QAAA,EAAC;QAAM;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC,EAEZtF,WAAW,iBACZnB,OAAA;QAAA8F,QAAA,gBAEE9F,OAAA,CAACF,IAAI,CAACkG,KAAK;UAACC,SAAS,EAAC,aAAa;UAAAH,QAAA,gBACjC9F,OAAA;YAAA8F,QAAA,EAAO;UAAY;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzBzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACX7F,IAAI,EAAC,aAAa;YAClB8F,IAAI,EAAC,QAAQ;YACbF,SAAS,EAAC,cAAc;YACxBG,WAAW,EAAC,wBAAwB;YACpCO,OAAO,EAAEA,CAAA,KAAMzE,6BAA6B,CAAC,IAAI,CAAE;YACnD0E,MAAM,EAAEA,CAAA,KAAM1E,6BAA6B,CAAC,KAAK,CAAE;YACnD2E,SAAS,EAAGvE,KAAK,IACjBc,kBAAkB,CAACd,KAAK,CAAE;YAC1B+D,QAAQ,EAAG/D,KAAK,IACdmB,2BAA2B,CAACnB,KAAK;UAAE;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,EACA5E,qBAAqB,CAACiF,MAAM,GAAG,CAAC,IAAM7E,0BAA2B,iBACjEjC,OAAA;YAAIiG,SAAS,EAAC,sBAAsB;YAAAH,QAAA,EACjCjE,qBAAqB,CAACkF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAAClD,UAAU,EAAEmD,KAAK,kBACvDjH,OAAA;cAAgB0G,OAAO,EAAEA,CAAA,KAAM7C,gCAAgC,CAACC,UAAU,CAAE;cAAAgC,QAAA,EACzEhC;YAAU,GADJmD,KAAK;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACO,CAAC,eAGfzG,OAAA;UAAA8F,QAAA,EACGvF,WAAW,CAACuG,MAAM,GAAG,CAAC,iBACvB9G,OAAA;YAAA8F,QAAA,EACGvF,WAAW,CAACyG,GAAG,CAAC,CAACrD,UAAU,EAAEsD,KAAK,kBACnCjH,OAAA;cAAkBiG,SAAS,EAAC,YAAY;cAAAH,QAAA,gBACtC9F,OAAA,CAACH,MAAM;gBAACqH,IAAI,EAAC,GAAG;gBAACjB,SAAS,EAAC;cAAa;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACxC9C,UAAU,eACb3D,OAAA,CAACH,MAAM;gBACLsH,OAAO,EAAC,QAAQ;gBAChBC,IAAI,EAAC,IAAI;gBACTV,OAAO,EAAEA,CAAA,KAAM3C,sBAAsB,CAACJ,UAAU,CAAE;gBAAAmC,QAAA,EACnD;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GATAQ,KAAK;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QACJ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGNzG,OAAA,CAACF,IAAI,CAACkG,KAAK;UAAAF,QAAA,gBACT9F,OAAA;YAAA8F,QAAA,EAAO;UAAQ;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvBzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACXmB,EAAE,EAAC,QAAQ;YACX7E,KAAK,EAAE/B,OAAQ;YACf4F,QAAQ,EAAEnC,eAAgB;YAAA4B,QAAA,gBAE1B9F,OAAA;cAAQwC,KAAK,EAAC,EAAE;cAAAsD,QAAA,EAAC;YAAiB;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC1ClF,iBAAiB,CAACyF,GAAG,CAAEzC,MAAM,iBAC9BvE,OAAA;cAAqBwC,KAAK,EAAE+B,MAAO;cAAAuB,QAAA,EAC9BvB;YAAM,GADEA,MAAM;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEX,CACP,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEbzG,OAAA;UAAA8F,QAAA,EACGrF,OAAO,CAACqG,MAAM,GAAG,CAAC,iBACnB9G,OAAA;YAAA8F,QAAA,EACGrF,OAAO,CAACuG,GAAG,CAAC,CAACzC,MAAM,EAAE0C,KAAK,kBAC3BjH,OAAA;cAAmBiG,SAAS,EAAC,QAAQ;cAAAH,QAAA,gBACnC9F,OAAA,CAACH,MAAM;gBAACqH,IAAI,EAAC,GAAG;gBAACjB,SAAS,EAAC;cAAS;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACpClC,MAAM,eACTvE,OAAA,CAACH,MAAM;gBACHsH,OAAO,EAAC,QAAQ;gBAChBC,IAAI,EAAC,IAAI;gBACTV,OAAO,EAAEA,CAAA,KAAMrC,kBAAkB,CAACE,MAAM,CAAE;gBAAAuB,QAAA,EAC7C;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GATAlC,MAAM;cAAA+B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUX,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QACJ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGNzG,OAAA,CAACF,IAAI,CAACkG,KAAK;UAAAF,QAAA,gBACT9F,OAAA;YAAA8F,QAAA,EAAO;UAAW;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1BzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACXmB,EAAE,EAAC,QAAQ;YACX7E,KAAK,EAAE7B,UAAW;YAClB0F,QAAQ,EAAE7B,iBAAkB;YAAAsB,QAAA,gBAE5B9F,OAAA;cAAQwC,KAAK,EAAC,EAAE;cAAAsD,QAAA,EAAC;YAAmB;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAC5CpF,mBAAmB,CAAC2F,GAAG,CAAEpC,QAAQ,iBAClC5E,OAAA;cAA0BwC,KAAK,EAAEoC,QAAQ,CAACvE,IAAK;cAAAyF,QAAA,EAC1ClB,QAAQ,CAACvE;YAAI,GADLuE,QAAQ,CAAC0C,EAAE;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEhB,CACP,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACU,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAEbzG,OAAA;UAAA8F,QAAA,EACInF,UAAU,CAACmG,MAAM,GAAG,CAAC,iBACvB9G,OAAA;YAAA8F,QAAA,EACGnF,UAAU,CAACqG,GAAG,CAAC,CAACpC,QAAQ,EAAEqC,KAAK,kBAChCjH,OAAA;cAA0BiG,SAAS,EAAC,UAAU;cAAAH,QAAA,gBAC5C9F,OAAA,CAACH,MAAM;gBAACqH,IAAI,EAAC,GAAG;gBAACjB,SAAS,EAAC;cAAY;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACvC7B,QAAQ,eACX5E,OAAA,CAACH,MAAM;gBACHsH,OAAO,EAAC,QAAQ;gBAChBC,IAAI,EAAC,IAAI;gBACTV,OAAO,EAAEA,CAAA,KAAMhC,oBAAoB,CAACE,QAAQ,CAAE;gBAAAkB,QAAA,EACjD;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GATA7B,QAAQ,CAACvE,IAAI;cAAAiG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUlB,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QACJ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAGNzG,OAAA,CAACF,IAAI,CAACkG,KAAK;UAACC,SAAS,EAAC,UAAU;UAAAH,QAAA,gBAC9B9F,OAAA;YAAA8F,QAAA,EAAO;UAAS;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACXC,IAAI,EAAC,QAAQ;YACbF,SAAS,EAAC,cAAc;YACxBG,WAAW,EAAC,EAAE;YACdC,QAAQ,EAAExB;UAAkB;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACQ,CAAC,eAGbzG,OAAA,CAACF,IAAI,CAACkG,KAAK;UAACC,SAAS,EAAC,UAAU;UAAAH,QAAA,gBAC9B9F,OAAA;YAAA8F,QAAA,EAAO;UAAS;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACXC,IAAI,EAAC,QAAQ;YACbF,SAAS,EAAC,cAAc;YACxBsB,GAAG,EAAC,GAAG;YACPlB,QAAQ,EAAEvB;UAAkB;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACQ,CAAC,eAGbzG,OAAA,CAACF,IAAI,CAACkG,KAAK;UAACC,SAAS,EAAC,MAAM;UAAAH,QAAA,gBAC1B9F,OAAA;YAAA8F,QAAA,EAAO;UAAI;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnBzG,OAAA,CAACF,IAAI,CAACoG,OAAO;YACX7F,IAAI,EAAC,MAAM;YACX8F,IAAI,EAAC,QAAQ;YACbF,SAAS,EAAC,cAAc;YACxBG,WAAW,EAAC,wBAAwB;YACpCO,OAAO,EAAEA,CAAA,KAAMvE,sBAAsB,CAAC,IAAI,CAAE;YAC5CwE,MAAM,EAAEA,CAAA,KAAMxE,sBAAsB,CAAC,KAAK,CAAE;YAC5CyE,SAAS,EAAGvE,KAAK,IACfc,kBAAkB,CAACd,KAAK,CAAE;YAC5B+D,QAAQ,EAAG/D,KAAK,IACd0C,oBAAoB,CAAC1C,KAAK;UAAE;YAAAgE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/B,CAAC,EACA1E,eAAe,CAAC+E,MAAM,GAAG,CAAC,IAAM3E,mBAAoB,iBACpDnC,OAAA;YAAIiG,SAAS,EAAC,sBAAsB;YAAAH,QAAA,EACjC/D,eAAe,CAACgF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAAClD,UAAU,EAAEmD,KAAK,kBACjDjH,OAAA;cAAgB0G,OAAO,EAAEA,CAAA,KAAM3B,yBAAyB,CAACjB,UAAU,CAAE;cAAAgC,QAAA,EAClEhC;YAAU,GADJmD,KAAK;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACS,CAAC,eAEbzG,OAAA;UAAA8F,QAAA,EACG7E,IAAI,CAAC6F,MAAM,GAAG,CAAC,iBAChB9G,OAAA;YAAA8F,QAAA,EACG7E,IAAI,CAAC+F,GAAG,CAAC,CAAC/B,GAAG,EAAEgC,KAAK,kBACrBjH,OAAA;cAAkBiG,SAAS,EAAC,KAAK;cAAAH,QAAA,gBAC/B9F,OAAA,CAACH,MAAM;gBAACqH,IAAI,EAAC,GAAG;gBAACjB,SAAS,EAAC;cAAM;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,EACjCxB,GAAG,eACNjF,OAAA,CAACH,MAAM;gBACHsH,OAAO,EAAC,QAAQ;gBAChBC,IAAI,EAAC,IAAI;gBACTV,OAAO,EAAEA,CAAA,KAAMxB,eAAe,CAACD,GAAG,CAAE;gBAAAa,QAAA,EACvC;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GATAQ,KAAK;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QACJ;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNzG,OAAA,CAACH,MAAM;UAAC6G,OAAO,EAAErB,aAAc;UAAAS,QAAA,EAAC;QAAM;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAACtG,EAAA,CArbIF,SAAS;AAAAuH,EAAA,GAATvH,SAAS;AAubf,eAAeA,SAAS;AAAC,IAAAuH,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}